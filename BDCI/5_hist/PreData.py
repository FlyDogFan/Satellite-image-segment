"""    从素描线 curve 文件中 的得到一个新文件 [n, start, end, mid, length]"""import numpy as npimport osclass PreData(object):    @staticmethod    def get_point(line):        point = line.split(":")[1]        point = point.split("  ")[0]        start, end = point.split("),")        start = start.split(',')        start[0] = start[0].split("(")[1]        end = end.split(",")        end[0] = end[0].split("(")[1]        end[1] = end[1].split(")")[0]        return start, end    # 读 curve 文件    def read_curve(self, path):        with open(path, "r") as f:            line = f.readline()            total_line = int(line.split(" ")[-1])            result = []            for index in range(total_line):                line = f.readline()                temp = {}                mid = []                # 0: (466,398),(688,431)   11  223                start, end = self.get_point(line=line)                length = line.split("  ")[-2]                temp["id"] = str(index)                temp["start"] = start                temp["end"] = end                mid.append((int(start[0]) + int(end[0])) // 2)                mid.append((int(start[1]) + int(end[1])) // 2)                temp["mid"] = mid                temp["length"] = length                result.append(temp)                f.readline()                f.readline()                f.readline()        return result    # 保存    @staticmethod    def save(data, dest_path):        with open(dest_path, "w") as f:            for index in range(len(data)):                line = data[index]                f.write(line["id"])                f.write(" ")                f.write(line["start"][0])                f.write(" ")                f.write(line["start"][1])                f.write(" ")                f.write(line["end"][0])                f.write(" ")                f.write(line["end"][1])                f.write(" ")                f.write(str(line["mid"][0]))                f.write(" ")                f.write(str(line["mid"][1]))                f.write(line["length"])                f.writelines("\n")        pass    passif __name__ == '__main__':    pre_data = PreData()    data = pre_data.read_curve("./data/2_curve.txt")    pre_data.save(data, './data/curve.txt')    print()